<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Html5 template</title>
     <script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/3rdlibs/require.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://webresource.c-ctrip.com/code/lizard/1.1/web/3rdlibs/libs.js" charset="utf-8"></script>
  </head>
  <body>
      <input id="test" type="password" pattern="[0-9]*">
      <button id="btn">value</button>
<script>
function PasswordNumber(input) {
  this.$el = $('<div></div>');
  this.$password = input.clone();
  this.$number = $('<input type="number"></input>');

  //ios基本不处理
  if ($.os.ios) {
    this.$number = input;
    return this;
  }

  this.$number.css({
    position: 'absolute',
    zIndex: -1,
    left: 0,
    top: 0     
  });
  
  this.$el.css({
    position: 'relative',
    display: 'inline-block'
  }).append(this.$password)
    .append(this.$number);

  input.replaceWith(this.$el);
  this._init();
}

PasswordNumber.prototype = {
  constructor: PasswordNumber,
  _init: function() {
    this.$password.on('focus', _.bind(this.focusAction, this));
    this.$number.on('input', _.bind(this.inputAction, this));
  }, 
  focusAction: function() {
    this.$number.focus();
  },
  inputAction: function() {
    var value = this.getValue();
    
    this.$password.val(value);
    if (!value) {
      this.$number.val('');
    }
  },
  getValue: function() {
    return this.$number.val();
  }
}
var password = new PasswordNumber($('#test'));

$('#btn').on('click', function() {
  alert(password.getValue());
});

</script>

  </body>
</html>