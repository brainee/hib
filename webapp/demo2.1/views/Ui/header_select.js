define(function(){return"﻿﻿\r\n<script type=\"text/lizard-config\">\r\n{\r\n  url_schema: '/ui/header_select',\r\n  viewName: 'uiHeaderSelect',\r\n  models: {\r\n    apis: [],\r\n    filter: function(datas) {\r\n      return {\r\n\r\n      };\r\n    }\r\n  },\r\n  view:{\r\n    viewport: Lizard.T(\"viewportTmpl\")\r\n  },\r\n  controller: 'webresource/controllers/ui/header_select.js'\r\n}\r\n</script>\r\n\r\n<script id=\"viewportTmpl\" type=\"text/lizard-template\">\r\n <div class=\"cui-citys-bd js_cur_select\">\r\n </div>\r\n\r\n  <pre>\r\n<code>\r\n\r\ndefine(['UIDemoView', 'UIRadioList'], function (UIDemoView, UIRadioList) {\r\n  var View = UIDemoView.extend({\r\n    events: {\r\n    },\r\n    onCreate: function () {\r\n      this.citylist = null;\r\n      //该值默认为上海，可被URL传递或者localstorage读取，下面会流出一个接口\r\n      this._setCurCity();\r\n    },\r\n    //这个接口需要被重写\r\n    _setCurCity: function (city) {\r\n      if (!city) city = '上海';\r\n      //这里首先可能会读取localstorage\r\n      //city = this.getLocalStorageCity();\r\n      //也许这里会读取url\r\n      //city = this.getUrlCity();\r\n      //也有可能什么都不做\r\n      this.curCity = city;\r\n    },\r\n    onShow: function () {\r\n      this._updateHeader();\r\n    },\r\n    //每次更新在这个地方做\r\n    _updateHeader: function () {\r\n      var scope = this;\r\n      this.header.set({\r\n        center: {\r\n          tagname: 'select',\r\n          value: this.curCity,\r\n          callback: function (e) {\r\n            //这里做的操作是增加体验的，可有可无\r\n            //var el = $(e.currentTarget);\r\n            //if (el.hasClass('expanded')) {\r\n            //  el.removeClass('expanded')\r\n            //} else {\r\n            //  el.addClass('expanded')\r\n            //}\r\n            if (!this.citylist) {\r\n              this.citylist = new UIRadioList({\r\n                datamodel: {\r\n                  title: '城市选择',\r\n                  data: [\r\n                   { id: '北京' }, { id: '上海' }, { id: '广州' }, { id: '深圳' }, { id: '成都' }, { id: '杭州' }\r\n                  ]\r\n                },\r\n                onClick: function (data) {\r\n                  scope._setCurCity(data.id);\r\n                  scope._updateHeader();\r\n                  //document.activeElement && document.activeElement.blur()\r\n                  this.hide();\r\n                }\r\n              });\r\n            }\r\n            this.citylist.show();\r\n          }\r\n        },\r\n        back: true\r\n      });\r\n    },\r\n    onHide: function() {\r\n    }\r\n  });\r\n  return View;\r\n});\r\n</code>\r\n</pre>\r\n</script>"});