define(function(){return"﻿﻿\r\n<script type=\"text/lizard-config\">\r\n{\r\n  url_schema: [\r\n    'restful',\r\n    'restful/index'\r\n  ],\r\n  viewName: 'restfulIndex',\r\n  model:{\r\n    apis: [\r\n    {\r\n      url: 'http://127.0.0.1:2000/restful/detail/api2',\r\n      postdata: {\r\n        id: Lizard.P('id'),\r\n        key: Lizard.P('key')\r\n      }\r\n    },\r\n    {\r\n      url: 'http://127.0.0.1:2000/restful/detail/api3',\r\n      postdata: {\r\n        id: Lizard.P('id'),\r\n        key: Lizard.P('key')\r\n      }\r\n    }],\r\n    filter: function(datas) {\r\n      // datas[0] <-> 1接口返回的数据\r\n      // datas[1] <-> 2接口返回的数据\r\n       var list = [];\r\n       _.each(datas, function(item) {\r\n         if (!item.list) return;\r\n         item.list[0]['key'] = item.key;\r\n         list = list.concat(item.list);\r\n       });\r\n       return {\r\n         list: list\r\n       };\r\n    }\r\n  },\r\n  view:{\r\n    viewport: Lizard.T(\"viewportTmpl\")\r\n  },\r\n  controller: 'webresource/controllers/restful/index.js'\r\n}\r\n</script>\r\n<script id=\"viewportTmpl\" type=\"text/lizard-template\">\r\n  <div>\r\n    <ul>\r\n      <%_.each(list, function(item) {%>\r\n      <li>\r\n        key: <%=item.key%>\r\n        id: <%=item.id%>\r\n        city: <%=item.city%>\r\n      </li>\r\n      <%})%>\r\n    </ul>\r\n  </div>\r\n</script>"});